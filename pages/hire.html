<style type="text/css">

.page-hire-us p {
  text-transform: uppercase;
  font-size: 30px;
  font-family: PeaceSans, sans-serif;
  color: rgb(237, 103, 58);
 }

.white-text {
  color: rgb(255, 255, 255);
 }

.validation-error-text {
 position: relative;
 font-size: 14px;
 letter-spacing: 0.1px;
 color: rgb(237, 103, 58);
 margin: 4px 0 0 0;
}

.hireus-signform {
  margin: 0 auto;
  width: 100%;
  padding: 0 1rem;
}

.signform-header {
  display: block;
  width: 100%;
  margin: 0 auto;
  padding: 25px 0 0 0;
  font-size: 28px;
}

.project-form {
  display: block;
  margin-top: 61px;
  margin-right: 3%;
  width: 100%;
  margin-bottom: 40px;
  padding-top: 3px;
  padding-left: 3px;
}

.project-form {
  margin-top: 2.5rem;
}

form {
  line-height: 1.5;
  font-weight: normal;
  width: 500px;
  max-width: 100%;
}

.input-container {
  position: relative;
  margin-top: 10px;
  box-sizing: border-box;
  padding: 8px 0;
  min-height: 1px;
  margin-left: auto;
  left: auto;
  right: auto;
  width: 100%;
}

.material-input {
  color: rgb(255, 255, 255);
  font: inherit;
  line-height: normal;
  background-color: transparent;
  border: none;
  border-bottom: 1px solid rgb(137, 137, 137);
  border-radius: 0;
  outline: none;
  height: 2em;
  width: 100%;
  font-size: 16px;
  margin: 0 0 4px 0;
  padding: 0;
  box-shadow: none;
  box-sizing: content-box;
  transition: all 0.3s;
}

.material-textarea {
  color: rgb(255, 255, 255);
  font: inherit;
  overflow: auto;
  background-color: transparent;
  border: none;
  border-bottom: 1px solid rgb(137, 137, 137);
  border-radius: 0;
  outline: none;
  font-size: 16px;
  margin: 0 0 20px 0;
  box-shadow: none;
  box-sizing: content-box;
  transition: all 0.3s;
  overflow-y: hidden;
  padding: 0;
  resize: none;
  width: 100%;
  height: 2em;
  min-height: 2em;
  max-height: 6em;
}

.bottom-orange {
  border-color: rgb(237, 103, 58);
}

.input-container label {
  color: rgb(255, 255, 255);
  position: absolute;
  top: 1em;
  left: 0;
  font-size: 14px;
  text-transform: uppercase;
  cursor: text;
  transition-duration: .15s;
  transition-timing-function: cubic-bezier(0,0,0.3,1);
}

.material-textarea + label {
  top: 1em;
}

label.active {
  transform: translateY(-140%);
  font-size: 12px;
  color: rgb(115, 108, 124);
  /*-webkit-transition: all 0.2s ease;
transition: all 0.2s ease;*/
}

.hireus-signform .btn-container {
  padding-top: 1.36%;
}

#loading-spinner {
  position: absolute;
  top: 0;
  left: 35%;
  width: 35%;
  margin: 0 auto;
  padding: 15% 0 0;
}

.email-status-result {
  width: 85%;
  margin: 0 auto;
  padding: 25% 0 0;
}

#checkmark-success {
  display: block;
  margin: 0 auto;
}

.email-status-result p.email-status {
  font-size: 22px;
  text-align: center;
  margin: 8px 0 0;
}

.email-status-result p.email-status-description {
  font-family: ProximaNova;
  font-weight: bold;
  color: rgb(255, 255, 255);
  font-size: 16px;
  text-align: center;
  text-transform: none;
}

#email-error-message {
  font-size: 14px;
  letter-spacing: 0.1px;
  color: rgb(237, 103, 58);
}

@media screen and (max-width: 980px) {

  .page-hire-us {
    position: relative;
    width: 100%;
    margin: 0 auto;
    padding: 0;
  }

  .signform-header {
    font-size: 2rem;
    padding: 1.7857rem 0 0 0;
  }

  .hireus-signform {
    padding: 0 4.6% 6.25%;
  }

  .project-form {
    margin: 25px 0 0 0;
    padding: 0;
  }

  form {
    width: 100%;
  }

  .input-container {
    margin-top: 3.39%;
    padding: 2.71% 0;
  }

  .material-input {
    font-size: 1.1429rem;
    margin: 0 0 0.2857rem 0;
    padding: 0;
  }

  .material-textarea {
    font-size: 1.1429rem;
    margin: 0 0 1.4286rem 0;
  }

  .input-container label {
    font-size: 1rem;
  }

  .page-hire-us .signform-header > p {
    font-size: 22px;
    font-size: 1.57rem;
    letter-spacing: 0.1px;
    line-height: 1.3;
    margin: 0;
  }

  .validation-error-text {
    font-size: 12px;
    font-size: 0.8571rem;
  }

  form .btn-container .btn {
    display: initial;
    float: left;
    width: 46.5%;
  }

  form .btn-container .btn-first {
    margin-right: 7%;
  }

}

@media screen and (min-width: 660px) {
}

@media screen and (min-width: 981px) and (max-width: 1279px) {
  .signform-header {
    padding-top: 100px;
  }

  .signform-header p {
    margin-bottom: 2px;
  }
}

@media screen and (min-width: 1280px) {
    .page-hire-us {
      padding: 120px 0 0 18%;
    }

    .hireus-signform {
      margin: 0;
      padding: 10px 0 0 9px;
      width: 100%;
      max-width: 600px;
    }

    .signform-header {
      margin: 0;
      padding: 0;
    }

    .signform-header > p {
      margin: 0;
    }

    .project-form {
      margin: 0;
      margin-top: 62px;
      width: 100%;
    }

    .hireus-signform .btn-control-group {
      margin: 75px 0 0 0;
    }

    .hireus-signform .btn-control-group .btn {
      min-width: 215px;
    }

  }

</style>
<section class="page page-hire-us" id="hire">
<div class="hireus-signform">
<h1 class="signform-header"><p><span class="orange-text">Start your project</span></p>
<p><span class="white-text">right now!</span></p></h1>
  <div>
    <form id="clientProjectForm" action="http://89.252.4.100:8080/email-dispatcher" method="POST">
      <div class="input-container">
        <input id="email-input" type="text" class="material-input" name="customers-email">
        <label for="email-input">E-mail</label>
      </div>
      <div class="input-container">
        <textarea rows="1" id="desc-input" class="material-textarea" name="customers-commentary"></textarea>
        <label for="desc-input">A few lines about your project</label>
      </div>
      <div class="btn-container">
        <button class="btn btn-first" type="submit">Submit</button>
        <button class="btn btn-secondary" type="button">Estimate costs</button>
        <div style="clear: both"></div>
      </div>
    </form>
  </div>
</div>

<script type="text/javascript">

function drawSuccessCheckmark() {
var vas = document.getElementsByTagName('canvas')[0];
var ctx = document.getElementsByTagName('canvas')[0].getContext('2d');
var canvasWidth = vas.width;
var canvasHeight = vas.height;
var width = 10;
var startX = 20;
var startY = 30;
var midX = 40;
var midY = 50;
var endX = 75;
var endY = 5;
var leftX = startX;
var leftY = startY;
var rightX = midX;
var rightY = midY;
var animationSpeed = 20;

ctx.lineWidth = width;
ctx.strokeStyle = 'rgba(237, 103, 58, 1)';

for (i = startX; i < midX; i++) {
    var drawLeft = window.setTimeout(function () {
        ctx.beginPath();
        ctx.moveTo(startX, startY);
        ctx.lineTo(leftX, leftY);
        ctx.lineCap = 'round';
        ctx.stroke();
        leftX++;
        leftY++;
    }, 1 + (i * animationSpeed) / 3);
}

for (i = midX; i < endX; i++) {
    var drawRight = window.setTimeout(function () {
        ctx.beginPath();
        ctx.moveTo(leftX, leftY);
        ctx.lineTo(rightX, rightY);
        ctx.stroke();
        rightX++;
        rightY--;
    }, 1 + (i * animationSpeed) / 3);
}
  };

  function elementHasClass(el, className) {
    if (el.classList)
      return el.classList.contains(className);
    else
      return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);
  };
  function removeClass(el, className) {
    if (el.classList)
      el.classList.remove(className);
    else
      el.className = el.className.replace(new RegExp('(^|\\b)' + className.split(' ').join('|') + '(\\b|$)', 'gi'), ' ');
  };
  function elementAddClass(el, className) {
    if (el.classList)
      el.classList.add(className);
    else
      el.className += ' ' + className;
  };

  $(document).ready(function() {
    $('#email-input').on('input', function(){
      var currentInput = $(this);
      if(currentInput.parent().hasClass('input-error')){
        currentInput.parent().removeClass('input-error');
        currentInput.siblings('span').remove();
      }
    });
    autosize(document.getElementById('desc-input'));

    $('.material-input').focus(function(){
      $(this).siblings('label').addClass('active');
      $(this).addClass('bottom-orange');
    });

    $('.material-input').focusout(function() {
      var value = $(this).val();
      if (!value) {
        $(this).siblings('label').removeClass('active');
        $(this).removeClass('bottom-orange');
      } else {
        $(this).siblings('label').addClass('active');
        $(this).addClass('bottom-orange');
      }
    });

    $('.material-textarea').focus(function(){
      $(this).siblings('label').addClass('active');
      $(this).addClass('bottom-orange');
    });

    $('.material-textarea').focusout(function() {
      var value = $(this).val();
      if (!value) {
        $(this).siblings('label').removeClass('active');
        $(this).removeClass('bottom-orange');
      } else {
        $(this).siblings('label').addClass('active');
        $(this).addClass('bottom-orange');
      }
    });

    // Form's submit handler
    $("#clientProjectForm").submit(function (event) {
      event.preventDefault();
      var $form = $(this);
      //Form validation
      var formCorrect = true;
      var $emailData = $('#clientProjectForm #email-input');
      var emailPattern = new RegExp(/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-?\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/);
      var parent = $emailData.parent();
      if (!emailPattern.test($emailData.val())) {
        if (!parent.hasClass('input-error')) {
          parent.append('<span class="validation-error-text">You have entered an invalid email address</span>');
        }
        formCorrect = false;
        parent.addClass('input-error');
      } else if (parent.hasClass('input-error')) {
        parent.removeClass('input-error');
        parent.children('.input-error').remove();
      }
      if (formCorrect) {
        // Everything's okay, POST form
        var serializedForm = $(this).serialize();
        $.ajax({
          type: 'POST',
          url: $form.attr("action"),
          crossDomain: true,
          data: serializedForm,
          dataType: 'json',
          beforeSend: function(){
            // Fires before sending request so loading placeholder is put here
            var loadingSpinner = '<div id="loading-spinner"></div>';
            $($form).closest('.hireus-signform').after(loadingSpinner);
            $('#loading-spinner').spinner({radius: 50, color: '#ed673a'});
            $($form).closest('.hireus-signform').addClass('visibility-hidden');
          },
          success: function (responseData, textStatus, jqXHR) {
            var success = '<div class="email-status-result"><canvas height="60" width="80" id="checkmark-success"></canvas><p class="orange-text email-status">Success</p><p class="email-status-description">We will reach out to you shortly.</p></div>';
            var containerHeight = $($form).closest('.hireus-signform').height();
            $($form).closest('.hireus-signform').height(containerHeight);
            $('.hireus-signform').empty().append(success);
            $('#loading-spinner').remove();
            $('.hireus-signform').removeClass('visibility-hidden');
            drawSuccessCheckmark();
          },
          error: function (responseData, textStatus, errorThrown) {
            // Something gone wrong
            var errorElement = '<span id="email-error-message">Error. Please try again later.</span>';
            $('#loading-spinner').remove();
            $($form).closest('.hireus-signform').removeClass('visibility-hidden');
            if($('#email-error-message').length == 0){
              $('#clientProjectForm').append(errorElement);
            };
          }
        });
        
        
      } else return false;
    });

  });
</script>
</section>